<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Middleware Help | Jmeter</title>
    <meta http-equiv="X-UA-Compatible" content="IE=firefox">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Middleware Notes.">
    <meta property="og:image" content="http://localhost:4000/assets/img/background/og_preview.jpg" />
    <meta property="og:title" content="Jmeter" />
    <meta property="og:description" content="Middleware Notes." />
    <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/highlight.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/cookie-eu-banner.css">
    <link rel="stylesheet" href="http://localhost:4000/assets/css/custom.css">
    <link rel="canonical" href="http://localhost:4000/docs/jmeter">
    <link rel="shortcut icon" type="image/x-icon" href="http://localhost:4000/assets/favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="Middleware Tips" href="http://localhost:4000/feed.xml">
</head>

<body>
<div id="container" class="help page help-home background">
    <header>
        <div class="header first ">
            <nav class="greedy">
                <div class="top navigation primary">
                    <ul class="links clearfix">
                        <li class="home with-text"><a href="http://www.passbolt.com/"><span>home</span></a></li>
                        <li class="left"><a href="https://community.passbolt.com/"><span>forum</span></a></li>
                        <li class="left"><a href="https://www.passbolt.com/blog"><span>blog</span></a></li>
                        <li class="left selected"><a href="https://help.passbolt.com/" class="highlighted"><span>help</span></a></li>
                    </ul>
                    <button class="hidden" count="0">more</button>
                    <ul class="hidden-links hidden"></ul>
                </div>
            </nav>
        </div>
    </header>
    <div class="header second">
        <div class="col1">
            <div class="logo no-img">
                <h1><span>Passbolt</span></h1>
            </div>
        </div>
        <div class="col2 search-wrapper">
            <h2 class="visuallyhidden">Help Search</h2>
            <div>
                <form class="search ready" action="/search.html" method="get">
                    <div class="input required">
                        <label for="search-box">Search</label>
                        <input id="search-box" name="query" maxlength="64" placeholder="Help search" class="fuzzy-search" type="search">
                    </div>
                    <button value="search">
                        <i class="fa fa-fw fa-search"></i>
                        <span class="text visuallyhidden">search</span>
                    </button>
                </form>
            </div>
        </div>
        <div class="col3">
            <div class="edit-on-github">
                <a href="https://github.com/miservers/miservers.github.io/edit/master/docs/jmeter.md" class="button">
                    <i class="fa fa-github-alt fa-fw"></i> Edit on github</a>
            </div>
        </div>
    </div>


<div class="panel main">
    <div class="panel left">
        <div class="navigation-help" role="navigation">
    <ul>
        <li><h2>Notes</h2></li>
        
        <li >
            
            	<a href="/docs/menu/app-servers" >App Servers</a>
        	
        </li>
        
        <li >
            
            	<a href="/docs/menu/production" >Production</a>
        	
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/discover">Introduction</a>
            
        </li>
        
        <li >
            
            	<a href="/hosting/install" >Installation</a>
        	
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/hosting">Hosting</a>
            
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/configure">Configure</a>
            
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/extend">Extend</a>
            
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/contribute">Contribute</a>
            
        </li>
        
        <li >
            
            	<a href="http://localhost:4000/legal">Small print</a>
            
        </li>
        
    </ul>
</div>
    </div>

	<div class="panel middle">
		<div class="grid grid-responsive-12">
			<div class="row" id="introduction">
    <div class="col12">
        <div class="breadcrumbs">
            <ul>
                <li>
                    <div class="main-cell">
                        <a href="https://www.passbolt.com"><span>home</span></a>
                    </div>
                </li>
                <li>
                    <div class="main-cell">
                        <a href="/"><span>help</span></a>
                    </div>
                </li>
                
                
                
                
            </ul>
        </div>
    </div>
</div>

			
			<h2 id="installation">Installation</h2>
<hr />
<h4 id="jmeter-plugins">JMeter Plugins</h4>
<p>First of all, download plugins-manager.jar and put it into lib/ext.  Install theses interesting plugins:</p>

<ul>
  <li>
    <p><strong>Customer Thread Groups</strong> : Stepping Thread Group and Concurrency Thread Group. 
<img src="images/jmeter-plugin-Customer-Thread-Groups.png" alt="alt txt" width="100%" height="auto" /></p>
  </li>
  <li><strong>3 Basic Graphs</strong></li>
  <li><strong>5 Additional Graphs</strong></li>
  <li><strong>Synthesis Report</strong></li>
  <li>
    <p><strong>jpgc Standard Set</strong></p>
  </li>
  <li><strong>PerfMon</strong> 
– Install Server Agent on remote machines
– See: https://jmeter-plugins.org/wiki/PerfMon/</li>
</ul>

<h2 id="scenarii-configuration">Scenarii Configuration</h2>
<hr />
<h3 id="how-to-record-senariis">How to Record Senariis</h3>

<p>Create and Configure a Thread Group:<br />
<img src="images/jmeter-thread-group.png" alt="alt txt" /></p>

<p>set the number of simultanuous users</p>

<p>Create a recorder:<br />
<img src="images/jmeter-http-test-script-recorder.png" alt="alt txt" /></p>

<p>Set Controler target to the created thread-group</p>

<p>Configure the browser proxy:<br />
proxy as localhost:8888</p>

<h3 id="jmeter">JMeter</h3>

<p>Thread : virtual user</p>

<h4 id="result-tree">Result tree</h4>
<p>Test Plan&gt;Add&gt;Listener&gt;View Results Tree
<img src="images/jmeter-result-tree.png" alt="alt txt" /></p>

<h4 id="http-request-defaults">HTTP Request Defaults</h4>
<p><img src="images/jmeter-http-request-defaults.png" alt="alt txt" /></p>

<h4 id="user-defined-variables">User Defined Variables</h4>

<p>https://guide.blazemeter.com/hc/en-us/articles/207421395-Using-User-Defined-Variables</p>

<h4 id="csv-data-set-config">CSV Data Set Config</h4>

<p>https://guide.blazemeter.com/hc/en-us/articles/206733689-Using-CSV-DATA-SET-CONFIG</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat ids.txt
23238092
0928274
8823900232-236
</code></pre></div></div>

<p>Define a user variable <strong>date</strong>. And var name for CSV data is <strong>id</strong>.</p>

<p>Finally define Request with path</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/${id}-${date}/maps/api/geocode/xml?address=1600+Amphitheatre+Parkway,+Mountain+View,+CA&amp;sensor=false
</code></pre></div></div>

<h4 id="timers">Timers</h4>
<p>Timer has scope. If the timer is defined in threadGroup level, a delay is made in each request of 
the threadGroup.</p>

<p>To insert a delay between loops,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Threadgroup
&gt;&gt;Loop
&gt;&gt;&gt;&gt;req 
&gt;&gt;Simple Controller
&gt;&gt;&gt;&gt;constant timer
&gt;&gt;&gt;&gt;any dummy sampler (say debug sampler, or a http request url) 
</code></pre></div></div>

<h4 id="run-jmeter-in-batch">run JMeter in batch</h4>

<p>./jmeter -n -t ~/magOS/documentation/files/Mysql-JDBC-Test.jmx</p>

<h2 id="examples">Examples</h2>
<hr />
<p>WS Scenario example: <a href="files/JMeter-TestPlanWS.jmx">here</a></p>

<h2 id="report-generation">Report Generation</h2>
<hr />
<p>Generate an HTML report. see: http://jmeter.apache.org/usermanual/generating-dashboard.html</p>

<p>For each listner set this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Write result To File: D:\ABR\APP\results\app-perfs.jtl
</code></pre></div></div>

<p>Update Files:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reportgenerator.properties
user.properties

see: 
https://jmeter.apache.org/usermanual/generating-dashboard.html
</code></pre></div></div>

<p>After end of Load test,  the file gaia-perfs.jtl is generated, to generate report:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.\jmeter.bat -g D:\ABR\GAIA\results\gaia-perfs.jtl -o D:\ABR\GAIA\reports\Tirs1
</code></pre></div></div>

<h2 id="references">References</h2>
<hr />
<ul>
  <li>https://www.digitalocean.com/community/tutorials/how-to-use-jmeter-to-record-test-scenarios</li>
</ul>


		</div>
	</div>
	
</div>
    <footer>
        <div class="footer">
            <ul class="footer-links">
                <li><a href="https://www.passbolt.com/licence">Terms</a></li>
                <li><a href="https://www.passbolt.com/privacy">Privacy</a></li>
                <li><a href="https://www.passbolt.com/credits">Credits</a></li>
                <li><a href="https://careers.passbolt.com">Careers</a></li>
            </ul>
        </div>
    </footer>
    <div id="cookies-eu-banner" class="visually-hidden">
        🍪 &nbsp; Do you accept cookies for statistical purposes?
        <a href="https://www.passbolt.com/privacy" id="cookies-eu-more">(Read more)</a>
        <a class="button primary" id="cookies-eu-accept">Accept</a>
        <a id="cookies-eu-reject">No thanks!</a>
    </div>


</div>
<script src="https://consent.cookiebot.com/uc.js" data-cbid="900808a8-f178-4994-b2ad-66bf3ccca5f7" data-blockingmode="auto" strategy="beforeInteractive"></script>
<script src="http://localhost:4000/assets/js/matomo-tag-manager.js"></script>
<script src="http://localhost:4000/assets/js/matomo-analytics.js"></script>
<script src="https://code.jquery.com/jquery-3.5.0.slim.min.js" integrity="sha384-/IFzzQmt1S744I+IQO4Mc1uphkxbXt1tEwjQ/qSw2p8pXWck09sLvqHmKDYYwReJ" crossorigin="anonymous"></script>
<script src="http://localhost:4000/assets/js/analytics.js"></script>
<script src="http://localhost:4000/assets/js/greedynav.js"></script>
</body>
</html>
